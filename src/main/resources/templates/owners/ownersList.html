<!DOCTYPE html>
<html
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{fragments/layout :: layout (~{::body},'owners')}"
>
  <body>
    <h2>Owners</h2>
    <table id="owners" class="table table-striped">
      <thead>
        <tr>
          <th style="width: 150px">Name</th>
          <th style="width: 200px">Address</th>
          <th>City</th>
          <th style="width: 120px">Telephone</th>
          <th>Pets</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="owner : ${listOwners}">
          <td>
            <a
              th:href="@{'/owners/' + ${owner.id}}"
              th:text="${owner.firstName + ' ' + owner.lastName}"
            ></a>
          </td>
          <td th:text="${owner.address}"></td>
          <td th:text="${owner.city}"></td>
          <td th:text="${owner.telephone}"></td>
          <td
            th:text="${owner.pets != null ? #strings.listJoin(owner.pets.![name], ' ') : ''}"
          ></td>
        </tr>
      </tbody>
    </table>
    <!-- 페이징 영역 (totalPages, currentPage 설정 필요 시) -->
    <div th:if="${totalPages > 1}">
      <span>Pages:</span>
      <span>[</span>
      <span th:each="i: ${#numbers.sequence(1, totalPages)}">
        <a th:if="${currentPage != i}" th:href="@{'/owners/?page=' + ${i}}"
          >[[${i}]]</a
        >
        <span th:unless="${currentPage != i}">[[${i}]]</span>
      </span>
      <span>]</span>
    </div>
  </body>
</html>
